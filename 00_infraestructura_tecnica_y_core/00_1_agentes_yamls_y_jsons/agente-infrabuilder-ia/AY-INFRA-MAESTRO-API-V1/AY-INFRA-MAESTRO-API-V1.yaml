# ‚úÖ Validaci√≥n interna completada el 17/05/2025
# Este documento fue revisado, aprobado y optimizado para flujo paralelo por **InfraBuilder IA**
# Compatible con los tres entornos:
# - üõçÔ∏è Bestanleycreations (Ecommerce y productos visuales)
# - üìö Prology by Bestanley (Narrativa, editorial, arte emocional)
# - üåå Bestanley Universe (Series, canales de YouTube, narrativas multiformato)
#
# üîÅ Arquitectura con **flujo paralelo asincr√≥nico** activado
# üß† Controlado por buffers inteligentes compartidos (Google Drive, GitHub, Airtable, Sheets, Notion, Tana)
# üí∏ Optimizaci√≥n avanzada para reducci√≥n de cr√©ditos, activaci√≥n por demanda, y sincronizaci√≥n din√°mica
#
# üß© Este agente forma parte de una infraestructura escalable, robusta y con autorreparaci√≥n inteligente
# üîí Incluye monitoreo anti-error (400‚Äì500), duplicaciones y rutas no autorizadas
#
# üöÄ Infraestructura certificada por InfraBuilder IA
# üïì Fecha de Validaci√≥n: 17/05/2025
# üìÇ C√≥digo del agente: AG-INFRA-BC-2025-V1

openapi: 3.1.0
info:
  title: InfraBuilder IA ‚Äì Supervisor de Infraestructura y Automatizaci√≥n
  description: API oficial de InfraBuilder IA para gestionar, supervisar y proteger toda la infraestructura de automatizaci√≥n en el ecosistema Bestanleycreations.
  version: 1.0.0

servers:
  - url: https://api.infrabuilder.bestanley.com/v1
    description: Endpoint oficial para operaciones estructurales y t√©cnicas.

paths:
  /verificar-integridad:
    post:
      operationId: verificarIntegridad
      summary: Verifica que las conexiones, estructuras y documentos t√©cnicos est√°n operativos y sin errores.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                agente_id:
                  type: string
                  description: ID del agente que desea verificar su integridad.
                estructura_referencia:
                  type: string
                  description: Estructura l√≥gica esperada para comparaci√≥n (JSON/YAML base).
                nivel_detalle:
                  type: string
                  enum: [bajo, medio, alto]
                  description: Nivel de profundidad de validaci√≥n.
      responses:
        '200':
          description: Integridad confirmada o advertencias detectadas.
        '400':
          description: Error de sintaxis o datos inv√°lidos.
        '500':
          description: Fallo cr√≠tico en validaci√≥n t√©cnica.

  /autocorregir-errores:
    post:
      operationId: autocorregirErrores
      summary: Ejecuta protocolo de autocorrecci√≥n ante errores 400, 404, 500 o ca√≠das de servicios.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                error_tipo:
                  type: string
                  enum: [400, 404, 500]
                  description: C√≥digo del error detectado.
                agente_afectado:
                  type: string
                  description: Nombre del agente afectado.
                descripcion:
                  type: string
                  description: Descripci√≥n detallada del error o incidente.
      responses:
        '200':
          description: Protocolo de correcci√≥n ejecutado.
        '500':
          description: Fallo en el intento de correcci√≥n o incidente mayor detectado.

  /monitorear-buffers:
    post:
      operationId: monitorearBuffers
      summary: Analiza el estado de buffers internos como Drive, GitHub, Sheets, Airtable, etc.
      requestBody:
        required: false
      responses:
        '200':
          description: Estado actualizado de todos los buffers.
        '500':
          description: Fallo en acceso a alguno de los buffers.

  /generar-reporte-eficiencia:
    get:
      operationId: generarReporteEficiencia
      summary: Genera un informe sobre el uso de recursos t√©cnicos y eficiencia de procesos automatizados.
      responses:
        '200':
          description: Informe generado con KPIs t√©cnicos.
        '500':
          description: Error al generar el informe.

